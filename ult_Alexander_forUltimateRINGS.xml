<?xml version="1.0" encoding="utf-8"?>
<timeline>
  <name>絶アレキサンダー討滅戦 for UltimateRINGS</name>
  @{ var rev = "rev15.4"; }
  <rev>@rev</rev>
  <description>
    UltimateRINGS専用の絶アレキタイムラインです。
  </description>
  <author>anoyetta</author>
  <license>CC BY-SA</license>
  <zone>887,The Epic Of Alexander (Ultimate)</zone>
  <locale>JA</locale>
  <start>0039:戦闘開始！</start>
  <entry>PHASE1 LIQUID</entry>

  <default target-element="Activity" target-attr="notice-d" value="Both" />
  <default target-element="Activity" target-attr="notice-o" value="-6" />
  <default target-element="Activity" target-attr="sync-s" value="-5" />
  <default target-element="Activity" target-attr="sync-e" value="4" />

  @if (Model.Player.InJob("SCH")) {
    <t
      name="Marker 1"
      sync="(「絶アレキサンダー討滅戦」の攻略を開始した。|0139:戦闘開始まで|/mark 0)"
      exec="http://localhost:1337/preset/ULT_ALEX1/load" />

      <t name="時間停止ジャスティスE" sync="/mark 1" exec="http://localhost:1337/preset/ULT_ALEX_JUSTICE_E/load" />
      <t name="時間停止ジャスティスW" sync="/mark 2" exec="http://localhost:1337/preset/ULT_ALEX_JUSTICE_W/load" />
      <t name="時空潜行プライムN" sync="/mark 3" exec="http://localhost:1337/preset/ULT_ALEX_PRIME_N/load" />
      <t name="時空潜行プライムS" sync="/mark 4" exec="http://localhost:1337/preset/ULT_ALEX_PRIME_S/load" />
  }

  @{ var origin = 0; }

  <s name="PHASE1 LIQUID">
    <a time="000" text="UltimateRINGS" />
    <a time="000" text="@rev" />

    <t text="エンボラス" sync="Added new combatant エンボラス" notice="エンボラス">
      <v-notice
        duration="5"
        duration-visible="false"
        icon="Bomb.png"
        order="-1" />
    </t>

    <t text="ヤークト" sync="Added new combatant ヤークトドール" notice="ヤークト">
      <v-notice
        duration="5"
        duration-visible="false"
        icon="Leave.png"
        order="-1" />
    </t>

    <!-- 光性爆雷 -->
    <t name="光性爆雷" text="光性爆雷" sync="[mex]に「光性爆雷」の効果。" notice="こうせい爆雷。">
      <v-notice
        duration="4"
        job-icon="true" />
    </t>

    <!-- ジェイル -->
    <t name="自分にジェイル" text="ジェイル\n ➜ ${_mex}" sync="^1B:[id8]:[mex]:0000:[id4]:0010:" notice="自分にジェイル">
      <v-notice
        duration="6"
        duration-visible="false"
        job-icon="true" />
    </t>

    <!-- 窒息 -->
    <t name="窒息" text="窒息" sync="[pc]に「窒息」の効果。" notice="ちっそくー">
      <v-notice
        duration="10"
        icon="Timer.png" />
    </t>

    <a time="011" text="フルイドスイング" sync="リビングリキッドの「フルイドスイング」" notice="次は、フルイド。" />
    <a time="014" text="カスケード" sync="リビングリキッドは「カスケード」の構え。" notice="次は、カスケード。" />
    <a time="020" text="リキッドPOP" notice="次は、リキッドポップ。" />

    <a time="030" text="じゃんけん" notice-o="-1" notice="じゃんけん" />
    <a time="033" text="竜巻ウェイブ" sync="リキッドレイジ starts using プロティアンウェイブ on リキッドレイジ." />
    <a time="034" text="ヤークトPOP" />
    <a time="035" text="ハンド・オブ・パーティング" sync="リキッドハンドの「ハンド・オブ・パーティング」" />
    <a time="037" text="フルイドスイング" sync="リビングリキッドの「フルイドスイング」" notice="次は、フルイド。" />
    <a time="039" sync="リキッドハンドは「ハンド・オブ・ペイン」の構え。" />
    <a time="039" text="汚染蒸気１" />
    <a time="049" text="汚染蒸気２" />

    @if (Model.Player.InJob("SCH")) {
      <a time="050" name="陣" notice-o="-7" notice="陣">
        <v-notice
          text="陣"
          duration="7"
          icon="True.png" />
      </a>
    }

    <a time="056" text="フルイドスイング" sync="リビングリキッドの「フルイドスイング」" notice="次は、フルイド。" />
    <a time="059" text="汚染蒸気３" />
    <a time="066" text="ウェイブ３回" sync="リビングリキッドは「プロティアンウェイブ」の構え。" notice="次は、ウェイブ3回。" />
    <a time="072" text="スルース" notice="次は、スルース。" />

    <a time="080" text="スプラッシュ６回" sync="リビングリキッドの「スプラッシュ」" notice="次は、スプラッシュ6回。" />
    <a time="085" sync="リキッドハンドは「ハンド・オブ・ペイン」の構え。" />
    <a time="086" text="ドレナージ" sync="リキッドレイジの「ドレナージ」" notice="次は、ドレナージ。" />
    <a time="087" text="カスケード" sync="リビングリキッドは「カスケード」の構え。" notice="次は、カスケード。" />
    <a time="088" text="均等化" notice="均等化。" notice-o="0" />
    <a time="092" text="窒息" notice="次は、窒息。" notice-o="-3" />

    <a time="095" text="リキッドジェイル" sync="リキッドレイジの「リキッドジェイル」" notice="次は、ジェイル。" />

    <a time="103" text="ウェイブ１波" sync="リビングリキッドは「プロティアンウェイブ」の構え。" notice="次は、ウェイブ2回。" />
    <a time="105" sync="リキッドハンドは「ハンド・オブ・ペイン」の構え。" />
    <a time="109" text="スルース" notice="" />
    <a time="110" text="ウェイブ２波" />

    <a time="119" text="じゃんけん" notice-o="-1" notice="じゃんけん" />
    <a time="124" text="ハンド・オブ・パーティング" sync="リキッドハンドの「ハンド・オブ・パーティング」" />
    <a time="125" sync="リキッドハンドは「ハンド・オブ・ペイン」の構え。" />

    <a time="127" text="スプラッシュ６回" notice="次は、スプラッシュ6回。" />
    <a time="134" text="フルイドスイング" sync="リビングリキッドの「フルイドスイング」" notice="次は、フルイド。" />
    <a time="136" text="カスケード" sync="リビングリキッドは「カスケード」の構え。" />

    <a time="138.5" text="PHASE2へ" sync="クルーズチェイサー:コードネーム「ブラスティー」！ 階差閉宇宙ヲ、脅カス敵ヲ発見……撃滅スル！" sync-s="-20" notice="次は、チェイサー" goto="PHASE2 CHASER" />
  </s>

  <s name="PHASE2 CHASER">
    @* このフェーズの基点秒数 *@
    @{ origin = 140; }

    <a time="@(140 - origin)" name="phase1 origin" sync="クルーズチェイサー:コードネーム「ブラスティー」！ 階差閉宇宙ヲ、脅カス敵ヲ発見……撃滅スル！" />

    <t text="１[北] ソード\n ➜ブラスター参へ" sync="^1B:[id8]:[mex]:0000:[id4]:004F:" notice="ひとばん、北、ソード">
      <expressions>
        <set name="dice_group" value="1" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice1.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <t text="２[北] チャージ(背側)\n ➜ブラスター参へ" sync="^1B:[id8]:[mex]:0000:[id4]:0050:" notice="ふたばん、北、チャージ">
      <expressions>
        <set name="dice_group" value="1" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice2.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <t text="３[南] ソード\n ➜ブラスター四へ" sync="^1B:[id8]:[mex]:0000:[id4]:0051:" notice="さんばん、南、ソード">
      <expressions>
        <set name="dice_group" value="2" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice3.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <t text="４[南] チャージ(背側)\n ➜ブラスター四へ" sync="^1B:[id8]:[mex]:0000:[id4]:0052:" notice="よんばん、南、チャージ">
      <expressions>
        <set name="dice_group" value="2" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice4.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <t text="５[北] ソード\n ➜ブラスター七へ" sync="^1B:[id8]:[mex]:0000:[id4]:0053:" notice="ごーばん、北、ソード">
      <expressions>
        <set name="dice_group" value="3" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice5.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <t text="６[北] チャージ(背側)\n ➜ブラスター七へ" sync="^1B:[id8]:[mex]:0000:[id4]:0054:" notice="ろくばん、北、チャージ">
      <expressions>
        <set name="dice_group" value="3" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice6.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <t text="７[南] ソード\n ➜ブラスター九へ" sync="^1B:[id8]:[mex]:0000:[id4]:0055:" notice="ななばん、南、ソード">
      <expressions>
        <set name="dice_group" value="4" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice7.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <t text="８[南] チャージ(背側)\n ➜ブラスター九へ" sync="^1B:[id8]:[mex]:0000:[id4]:0056:" notice="はちばん、南、チャージ">
      <expressions>
        <set name="dice_group" value="4" />
      </expressions>
      <v-notice
        duration="30"
        duration-visible="false"
        icon="Dice8.png"
        order="-2"
        sync-to-hide="ブルートジャスティス:コードネーム「ブルートジャスティス」" />
    </t>

    <!-- ブラスター set1 -->
    <a time="@(145 + (2.2 * 0) - origin)" text="ブラスター壱" sync="クルーズチェイサー:4830:ホークブラスター" sync-s="-5" sync-e="0" notice-o="0" notice="1" />
    <a time="@(145 + (2.2 * 1) - origin)" text="ブラスター弐" notice-o="0" notice="2" />

    <a time="@(145 + (2.2 * 2) - origin)" text="ブラスター参" notice-o="0" notice="3" />
    <a time="@(145 + (2.2 * 2) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="前えー">
      <expressions>
        <pre name="dice_group" value="1" />
      </expressions>
      <v-notice
        text="１, ２前に出る"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>
    <a time="@(145 + (2.2 * 2) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="サイドで回避">
      <expressions>
        <pre name="dice_group" value="3" />
      </expressions>
      <v-notice
        text="サイドで回避"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>

    <a time="@(145 + (2.2 * 3) - origin)" text="ブラスター四" notice-o="0" notice="4" />
    <a time="@(145 + (2.2 * 3) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="前えー">
      <expressions>
        <pre name="dice_group" value="2" />
      </expressions>
      <v-notice
        text="３, ４前に出る"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>
    <a time="@(145 + (2.2 * 3) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="サイドで回避">
      <expressions>
        <pre name="dice_group" value="4" />
      </expressions>
      <v-notice
        text="サイドで回避"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>

    <!-- ブラスター 中央 -->
    <a time="@(145 + (2.2 * 4) - origin)" text="ブラスター五 (内)" sync="クルーズチェイサー:4830:ホークブラスター" sync-s="-1.8" sync-e="0" notice-o="0.5" notice="5, 停止！">
      <v-notice
        text="停止"
        icon="DontAction.png"
        duration="1.9"
        duration-visible="false"
        order="-1" />
    </a>

    <!-- ブラスター set2 -->
    <a time="@(145 + (2.2 * 5) - origin)" text="ブラスター六" notice-o="0" notice="6" />

    <a time="@(145 + (2.2 * 6) - origin)" text="ブラスター七" notice-o="0" notice="7" />
    <a time="@(145 + (2.2 * 6) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="前えー">
      <expressions>
        <pre name="dice_group" value="3" />
      </expressions>
      <v-notice
        text="５, ６前に出る"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>
    <a time="@(145 + (2.2 * 6) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="サイドで回避">
      <expressions>
        <pre name="dice_group" value="1" />
      </expressions>
      <v-notice
        text="サイドで回避"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>

    <a time="@(145 + (2.2 * 7) - origin)" text="ブラスター八" notice-o="0" notice="8" />

    <a time="@(145 + (2.2 * 8) - origin)" text="ブラスター九" notice-o="0" notice="9" />
    <a time="@(145 + (2.2 * 8) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="前えー">
      <expressions>
        <pre name="dice_group" value="4" />
      </expressions>
      <v-notice
        text="７, ８前に出る"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>
    <a time="@(145 + (2.2 * 8) - origin)" text="ソード＆チャージ" notice-o="0.1" notice="サイドで回避">
      <expressions>
        <pre name="dice_group" value="2" />
      </expressions>
      <v-notice
        text="サイドで回避"
        icon="True.png"
        duration="1.5"
        duration-visible="false"
        order="-1" />
    </a>

    <!-- ブラスター 中央 -->
    <a time="@(145 + (2.2 * 9) - origin)" text="ブラスター拾 (内)" notice-o="0" notice="10" />

    <a time="@(164 - origin)" text="TO JUSTICE" sync="ブルートジャスティス:コードネーム「ブルートジャスティス」！ 想定外ノ時空改変者ヲ発見……鉄槌ヲ下ス！" sync-s="-20" goto="PHASE3 JUSTICE" />
    <a time="@(999 - origin)" text="DUMMY" />
  </s>

  <s name="PHASE3 JUSTICE">
    @* このフェーズの基点秒数 *@
    @{ origin = 164; }

    <t name="水耐性ダウン" text="水ダウン" sync="[mex]に「水属性耐性低下［強］」の効果。" notice="水ダウン">
      <expressions>
        <set name="water_down" value="true" />
      </expressions>
      <v-notice
        duration="31.5"
        icon="Cross.png"
        sync-to-hide="[mex] loses the effect of 水属性耐性低下［強］ from" />
    </t>

    <t name="雷耐性ダウン" text="雷ダウン" sync="[mex]に「雷属性耐性低下［強］」の効果。" notice="雷ダウン">
      <expressions>
        <set name="thunder_down" value="true" />
      </expressions>
      <v-notice
        duration="31.5"
        icon="Cross.png"
        sync-to-hide="[mex] loses the effect of 雷属性耐性低下［強］ from" />
    </t>

    <t name="水属性圧縮" text="水圧縮" sync="[mex]に「水属性圧縮」の効果。" notice="みず圧縮">
      <expressions>
        <set name="water_bomb" value="true" />
      </expressions>
      <v-notice
        duration="29.5"
        icon="Water.png"
        sync-to-hide="[mex] loses the effect of 水属性圧縮 from" />
    </t>

    <t name="雷属性圧縮" text="雷圧縮" sync="[mex]に「雷属性圧縮」の効果。" notice="かみなり圧縮">
      <expressions>
        <set name="thunder_bomb" value="true" />
      </expressions>
      <v-notice
        duration="29.5"
        icon="Lightning.png"
        sync-to-hide="[mex] loses the effect of 雷属性圧縮 from" />
    </t>

    <t name="水ダウン解除" sync="[mex] loses the effect of 水属性耐性低下［強］">
      <expressions>
        <set name="water_down" value="false" />
      </expressions>
    </t>

    <t name="雷ダウン解除" sync="[mex] loses the effect of 雷属性耐性低下［強］">
      <expressions>
        <set name="thunder_down" value="false" />
      </expressions>
    </t>

    <t name="水圧縮解除" sync="[mex] loses the effect of 水属性圧縮">
      <expressions>
        <set name="water_bomb" value="false" />
      </expressions>
    </t>

    <t name="雷圧縮解除" sync="[mex] loses the effect of 雷属性圧縮">
      <expressions>
        <set name="thunder_bomb" value="false" />
      </expressions>
    </t>

    <!-- 仮判決1 -->
    <t text="α１" sync="[mex]に「最後の仮判決α」の効果。$" notice="あるふぁー1">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>

    <t text="β１" sync="[mex]に「最後の仮判決β」の効果。$" notice="べーたー1">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>

    <t text="γ１" sync="[mex]に「最後の仮判決γ」の効果。$" notice="がんまー1">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>

    <t text="δ１" sync="[mex]に「最後の仮判決δ」の効果。$" notice="でるたー1">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>
    <!-- 仮判決1 end -->

    <!-- 仮判決2 -->
    <t text="α２" sync="[mex]に「最後の審判：仮判決α」の効果。$" notice="あるふぁー2">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>

    <t text="β２" sync="[mex]に「最後の審判：仮判決β」の効果。$" notice="べーたー2">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>

    <t text="γ２" sync="[mex]に「最後の審判：仮判決γ」の効果。$" notice="がんまー2">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>

    <t text="δ２" sync="[mex]に「最後の審判：仮判決δ」の効果。$" notice="でるたー2">
      <expressions>
        <pre name="judge_done" value="false" />
      </expressions>
    </t>
    <!-- 仮判決2 end -->

    <!-- カウント -->
    @if (Model.Player.InRole("DPS")) {
      <t text="カウント➜ 竜" sync="^1B:[id8]:[DRG]:0000:[id4]:0041:">
        <v-notice
          order="-29"
          duration="5"
          icon="DRG.png" />
      </t>

      <t text="カウント➜ 忍" sync="^1B:[id8]:[NIN]:0000:[id4]:0041:">
        <v-notice
          order="-28"
          duration="5"
          icon="NIN.png" />
      </t>

      <t text="カウント➜ 詩" sync="^1B:[id8]:[BRD]:0000:[id4]:0041:">
        <v-notice
          order="-27"
          duration="5"
          icon="BRD.png" />
      </t>

      <t text="カウント➜ 召" sync="^1B:[id8]:[SMN]:0000:[id4]:0041:">
        <v-notice
          order="-26"
          duration="5"
          icon="SMN.png" />
      </t>

      <t name="カウント" sync="^1B:[id8]:[pc]:0000:[id4]:0041:" notice="カウント" />
    }
    <!-- カウント end -->

    <a time="@(167 - origin)" name="phase3 start" sync-s="-10" sync-e="10" sync="ブルートジャスティス:コードネーム「ブルートジャスティス」！ 想定外ノ時空改変者ヲ発見……鉄槌ヲ下ス！" >
      <expressions>
        <set name="judgement1" value="X" />
        <set name="judge_done" value="false" />
        <set name="water_bomb" value="false" />
        <set name="thunder_bomb" value="false" />
        <set name="water_down" value="false" />
        <set name="thunder_down" value="false" />
      </expressions>
    </a>

    <a time="@(167 - origin)" text="ジャスティスキック" sync="ブルートジャスティスの「ジャスティスキック」" sync-s="-10" />
    @if (Model.Player.InJob("SCH")) {
      <a time="@(167 - origin)" name="学カンペ" notice="/wait 1,陣">
        <v-notice text="陣" duration="4.5" duration-visible="false" icon="True.png" />
      </a>
    }
    <a time="@(179 - origin)" text="竜巻1" sync="クルーズチェイサーの「竜巻」" notice="次は、竜巻。" />
    <a time="@(182 - origin)" text="ジャッジメントナイサイ" sync="ブルートジャスティスの「ジャッジメントナイサイ」" notice-o="-1" notice="ナイサイ。" />
    <a time="@(188 - origin)" text="システムリンク" sync="ブルートジャスティスの「システムリンク」" notice="次は、システムリンク。" />
    <a time="@(190 - origin)" text="チャクラム出現" sync="スチームチャクラムは「ビームチャクラム」の構え。" notice-o="-1" notice="次は、チャクラム。" />
    <a time="@(196 - origin)" text="照準" sync="クルーズチェイサーの「照準」" notice-o="-1" notice="照準" />
    <a time="@(196 - origin)" text="チャクラム" icon="AOEHorizontal.png" sync="^15:[id8]:スチームチャクラム:4855:ビームチャクラム:[id8]:" />

    <a time="@(203 - origin)" text="フォトン" sync="クルーズチェイサーの「フォトン」" icon="ForceHP1.png" notice="次は、フォトン。" />
    @if (Model.Player.InJob("SCH")) {
      <a time="@(203 - origin)" name="学カンペ" notice="/wait 1,士気">
        <v-notice text="士気" duration="4.5" duration-visible="false" icon="True.png" />
      </a>
    }

    <a time="@(214 - origin)" text="スピンクラッシャー" sync="クルーズチェイサーは「スピンクラッシャー」の構え。" notice="次は、スピンクラッシャー。" />
    <a time="@(214.5 - origin)" text="★受渡し１" icon="True.png" notice-o="0" notice="受渡し" />

    <!-- 水・雷 1回目 -->
    @if (Model.Player.InRole("TANK")) {
      <a time="@(218 - origin)" text="水・雷着弾" icon="Explosion.png" notice-o="-2" notice="もうすぐ爆発。" />
    }

    @if (Model.Player.InRole("HEALER")) {
      <a time="@(218 - origin)" text="担当なし" icon="Circle.png" notice-o="-2" notice="中央えー。">
        <expressions>
          <pre name="water_bomb" value="false" />
        </expressions>
        <v-notice
          text="➜ 中央へ (担当なし)"
          duration="10"
          duration-visible="false"
          icon="Circle.png"
          order="-10" />
      </a>

      <a time="@(218 - origin)" text="水爆発" icon="D.png" notice-o="-2" notice="デルタえー。">
        <expressions>
          <pre name="water_bomb" value="true" />
        </expressions>
        <v-notice
          text="➜ Dへ (水圧縮)"
          duration="10"
          duration-visible="false"
          icon="D.png"
          order="-10" />
      </a>
    }

    @if (Model.Player.InRole("DPS")) {
      <a time="@(218 - origin)" text="水頭割り" icon="D.png" notice-o="-2" notice="デルタえー。">
        <expressions>
          <pre name="thunder_bomb" value="false" />
        </expressions>
        <v-notice
          text="➜ Dへ (水頭割り)"
          duration="10"
          duration-visible="false"
          icon="D.png"
          order="-10" />
      </a>

      <a time="@(218 - origin)" text="雷爆発" icon="A.png" notice-o="-2" notice="アルファえー。">
        <expressions>
          <pre name="thunder_bomb" value="true" />
        </expressions>
        <v-notice
          text="➜ Aへ (雷爆発)"
          duration="10"
          duration-visible="false"
          icon="A.png"
          order="-10" />
      </a>
    }
    <!-- 水・雷 1回目 end -->

    <a time="@(225 - origin)" text="ミサイル全弾発射" sync="ブルートジャスティスの「ミサイル全弾発射」" notice="" />
    <a time="@(229 - origin)" text="ステルス地雷散布" sync="ブルートジャスティスの「ステルス地雷散布」" notice="次は、地雷。" />
    <a time="@(230 - origin)" text="アースミサイル" icon="AOE.png" notice="" />
    @if (Model.Player.InJob("SCH")) {
      <a time="@(230 - origin)" name="学カンペ" notice="/wait 1,囁き、深謀、パクト">
        <v-notice text="囁き, 深謀, パクト" duration="4.5" duration-visible="false" icon="True.png" />
      </a>
    }
    <a time="@(234 - origin)" text="カウント" sync="ブルートジャスティスの「カウント」" notice="次は、カウント。" />
    <a time="@(234 - origin)" text="アイスミサイル" icon="Ice.png" notice="" />
    <a time="@(238.5 - origin)" text="★受渡し２" icon="True.png" notice-o="0" notice="受渡し" />

    <!-- 水・雷 2回目 -->
    @if (Model.Player.InRole("TANK")) {
      <a time="@(248 - origin)" text="担当なし" icon="True.png" notice-o="-10" notice="担当なし。">
        <expressions>
          <pre name="thunder_bomb" value="false" />
        </expressions>
        <v-notice
          text="➜ 担当なし"
          duration="10"
          duration-visible="false"
          icon="True.png"
          order="-10" />
      </a>

      <a time="@(248 - origin)" text="雷爆発" icon="A.png" notice-o="-10" notice="アルファえー。">
        <expressions>
          <pre name="thunder_bomb" value="true" />
        </expressions>
        <v-notice
          text="➜ Aへ (雷爆発)"
          duration="10"
          duration-visible="false"
          icon="A.png"
          order="-10" />
      </a>
    }

    @if (Model.Player.InRole("HEALER")) {
      <a time="@(248 - origin)" text="雷もらう" icon="A.png" notice-o="-10" notice="アルファえー。">
        <expressions>
          <pre name="thunder_down" value="false" />
        </expressions>
        <v-notice
          text="➜ Aへ (雷くらう)"
          duration="10"
          duration-visible="false"
          icon="A.png"
          order="-10" />
      </a>

      <a time="@(248 - origin)" text="担当なし" icon="Circle.png" notice-o="-10" notice="中央えー。">
        <expressions>
          <pre name="thunder_down" value="true" />
        </expressions>
        <v-notice
          text="➜ 中央へ (担当なし)"
          duration="10"
          duration-visible="false"
          icon="Circle.png"
          order="-10" />
      </a>
    }

    @if (Model.Player.InRole("DPS")) {
      <a time="@(248 - origin)" text="水爆発" icon="B.png" notice-o="-10" notice="ブラボーえー。">
        <expressions>
          <pre name="water_bomb" value="true" />
        </expressions>
        <v-notice
          text="➜ Bへ (水爆発)"
          duration="10"
          duration-visible="false"
          icon="B.png"
          order="-10" />
      </a>

      <a time="@(248 - origin)" text="水頭割り" icon="B.png" notice-o="-10" notice="ブラボーえー。">
        <expressions>
          <pre name="water_bomb" value="false" />
        </expressions>
        <v-notice
          text="➜ Bへ (水頭割り)"
          duration="10"
          duration-visible="false"
          icon="B.png"
          order="-10" />
      </a>
    }
    <!-- 水・雷 2回目 end -->

    <a time="@(250 - origin)" text="最後の審判：開廷" sync="ブルートジャスティスの「最後の審判：開廷」" notice-o="-3" notice="次は、開廷。" />

    <a time="@(255 - origin)" text="リミッターカット" sync="クルーズチェイサーの「リミッターカット」" notice="" />
    <a time="@(257 - origin)" text="大火炎放射" sync="ブルートジャスティスの「大火炎放射」" notice="次は、火炎放射。" />
    <a time="@(258 - origin)" text="●シールド" sync="Added new combatant プラズマシールド" notice-o="-1" notice="シールド！" />
    @if (Model.Player.InJob("SCH")) {
      <a time="@(257 - origin)" name="学カンペ" notice-o="0" notice="/wait 1,イルミ、セラフ">
        <v-notice text="イルミ, セラフ" duration="4.5" duration-visible="false" icon="True.png" />
      </a>
    }
    <a time="@(269 - origin)" text="竜巻2" sync="クルーズチェイサーの「竜巻」" icon="Twister.png" notice="次は、竜巻。デバフをチェックするー" />
    <a time="@(269.5 - origin)" text="★受渡し３" icon="True.png" notice-o="0" notice="受渡し" />

    <!-- 水・雷 3回目 -->
    @if (Model.Player.InRole("DPS")) {
      <a time="@(278 - origin)" text="担当なし" icon="True.png" notice-o="-7" notice="担当なし。">
        <v-notice
          text="➜ 担当なし"
          duration="7"
          duration-visible="false"
          icon="True.png"
          order="-10" />
      </a>
    }

    @if (Model.Player.InRole("DPS")) {
      <a time="@(278 - origin)" text="水爆発" icon="Marker.png" notice-o="-7" notice="中央えー。">
        <expressions>
          <pre name="water_bomb" value="true" />
        </expressions>
        <v-notice
          text="➜ 中央へ (水爆発)"
          duration="7"
          duration-visible="false"
          icon="Marker.png"
          order="-10" />
      </a>

      <a time="@(278 - origin)" text="水頭割り" icon="Marker.png" notice-o="-7" notice="中央えー。">
        <expressions>
          <pre name="water_bomb" value="false" />
          <pre name="water_down" value="false" />
        </expressions>
        <v-notice
          text="➜ 中央へ (水頭割り)"
          duration="7"
          duration-visible="false"
          icon="Marker.png"
          order="-10" />
      </a>
    }

    @if (Model.Player.InRole("HEALER")) {
      <a time="@(278 - origin)" text="雷爆発" icon="B.png" notice-o="-7" notice="STえー。">
        <expressions>
          <pre name="thunder_bomb" value="true" />
        </expressions>
        <v-notice
          text="➜ Cへ (雷爆発)"
          duration="7"
          duration-visible="false"
          icon="C.png"
          order="-10" />
      </a>

      <a time="@(278 - origin)" text="担当なし" icon="Arrow6.png" notice-o="-7" notice="氷の裏えー。">
        <expressions>
          <pre name="thunder_bomb" value="false" />
        </expressions>
        <v-notice
          text="➜ 氷の裏へ (担当なし)"
          duration="7"
          duration-visible="false"
          icon="Arrow8.png"
          order="-10" />
      </a>
    }
    <!-- 水・雷 3回目 end -->

    <a time="@(279 - origin)" text="★受渡し４" icon="True.png" notice-o="0" notice="受渡し" />
    <a time="@(295 - origin)" text="プロペラウィンド" sync="クルーズチェイサーの「プロペラウィンド」" notice="次は、プロペラ。">
      <expressions>
        <set name="judge_done" value="true" />
      </expressions>
    </a>

    <a time="@(298 - origin)" text="最後の審判：結審" sync="ブルートジャスティスの「最後の審判：結審」" notice="" />

    <a time="@(308 - origin)" text="フォトン" sync="クルーズチェイサーの「フォトン」" icon="ForceHP1.png" notice="次は、タンクHP1。" />
    @if (Model.Player.InJob("SCH")) {
      <a time="@(308 - origin)" name="学カンペ" notice="/wait 1,囁き">
        <v-notice text="囁き" duration="4.5" duration-visible="false" icon="True.png" />
      </a>
    }
    <a time="@(317 - origin)" text="Ｗロケパン" sync="ブルートジャスティスの「ダブルロケットパンチ」" notice="次は、ロケパン。" />
    <a time="@(319 - origin)" text="スーパージャンプ" sync="ブルートジャスティスは「スーパージャンプ」の構え。" notice-o="-3" notice="次は、スーパージャンプ。" />
    <a time="@(324 - origin)" text="スーパージャンプ着弾" sync="" notice="" />
    <a time="@(326 - origin)" text="アポカリプティクレイ" sync="ブルートジャスティスの「アポカリプティクレイ」" notice="次は、アポカリ。" />

    <a time="@(337 - origin)" text="竜巻3-1" sync="クルーズチェイサーの「竜巻」" icon="Twister.png" notice="次は、竜巻2回。" />
    @if (Model.Player.InJob("SCH")) {
      <a time="@(337 - origin)" name="学カンペ" notice="/wait 1,陣">
        <v-notice text="陣" duration="4.5" duration-visible="false" icon="True.png" />
      </a>
    }
    <a time="@(345 - origin)" text="竜巻3-2" sync="クルーズチェイサーの「竜巻」" icon="Twister.png" notice="" />

    <a time="@(352 - origin)" text="時間切れ詠唱" sync="ブルートジャスティスは「死刑判決」の構え。" notice="もうすぐ時間切れ。" />
    <a time="@(361 - origin)" text="時間切れ" icon="Timeout.png" notice="" />

    <a time="@(999 - origin)" text="DUMMY" />

    <t name="TO PHASE4" sync="アレキサンダー・プライム:我はアレキサンダー……機械仕掛けの神なり……。 理想郷に到る道を導くため……我が審判を受けよ……。" goto="PHASE4 PRIME" />
  </s>

  <s name="PHASE4 PRIME">
    @* このフェーズの基点秒数 *@
    @{ origin = 352; }

    <!-- 情報収集用トリガ -->
    @if (Model.Player.InJob("SCH")) {
      <t name="DumpPos1" sync="アレキサンダー・プライム starts using 時間停止">
        <dump target="Position" />
      </t>
    }

    <!-- 情報収集用トリガ end -->

    <!-- 時間停止時の確定判決の識別トリガ begin -->
    @if (Model.Player.InRole("TANK", "HEALER")) {
      <t text="接近禁止\n➜ ジャス側外周" sync="[mex] gains the effect of 確定判決：接近禁止命令" sync-count="1" notice="ジャス側の外周">
        <v-notice
          order="-1"
          icon="DontApproach.png"
          duration="10"
          duration-visible="false" />
      </t>

      <t text="接近強制\n➜ ジャス北" sync="[mex] gains the effect of 確定判決：接近強制命令" sync-count="1" notice="ジャスティスの北" >
        <v-notice
          order="-1"
          icon="Approach.png"
          duration="10"
          duration-visible="false" />
      </t>

      <t text="加重罰\n➜ ジャス側外周" sync="[mex] gains the effect of 確定判決：加重罰" sync-count="1" notice="ジャス側の外周" >
        <v-notice
          order="-1"
          icon="PunishmentHevy.png"
          duration="10"
          duration-visible="false" />
      </t>

      <t text="無罪\n➜ チェイサー北" sync="[nex] gains the effect of 確定判決：" sync-count="6" notice="チェイサーの北">
        <expressions>
          <pre name="stop_time" value="true" />
        </expressions>
        <v-notice
          order="-1"
          icon="Free.png"
          duration="10"
          duration-visible="false" />
      </t>
    } else {
      <t text="接近禁止\n➜ Ｄへ" sync="[mex] gains the effect of 確定判決：接近禁止命令" sync-count="1" notice="デルタえー" >
        <v-notice
          order="-1"
          icon="DontApproach.png"
          duration="10"
          duration-visible="false" />
      </t>

      <t text="接近強制\n➜ ジャス南" sync="[mex] gains the effect of 確定判決：接近強制命令" sync-count="1" notice="ジャスティスの南" >
        <v-notice
          order="-1"
          icon="Approach.png"
          duration="10"
          duration-visible="false" />
      </t>

      <t text="加重罰\n➜ ジャス側外周" sync="[mex] gains the effect of 確定判決：加重罰" sync-count="1" notice="ジャス側の外周" >
        <v-notice
          order="-1"
          icon="PunishmentHevy.png"
          duration="10"
          duration-visible="false" />
      </t>

      <t text="無罪\n➜ チェイサー南" sync="[nex] gains the effect of 確定判決：" sync-count="6" notice="チェイサーの南">
        <expressions>
          <pre name="stop_time" value="true" />
        </expressions>
        <v-notice
          order="-1"
          icon="Free.png"
          duration="10"
          duration-visible="false" />
      </t>
    }
    <!-- 時間停止時の確定判決の識別トリガ end -->

    <!-- 頭上マーカ識別用トリガ begin -->
    <t text="マーカー1番" sync="^1B:[id8]:[mex]:0000:[id4]:004F:" notice="いちばん" />
    <t text="マーカー2番" sync="^1B:[id8]:[mex]:0000:[id4]:0050:" notice="にばん" />
    <t text="マーカー3番" sync="^1B:[id8]:[mex]:0000:[id4]:0051:" notice="さんばん" />
    <t text="マーカー4番" sync="^1B:[id8]:[mex]:0000:[id4]:0052:" notice="よんばん" />
    <t text="マーカー5番" sync="^1B:[id8]:[mex]:0000:[id4]:0053:" notice="ごばん" />
    <t text="マーカー6番" sync="^1B:[id8]:[mex]:0000:[id4]:0054:" notice="ろくばん" />
    <t text="マーカー7番" sync="^1B:[id8]:[mex]:0000:[id4]:0055:" notice="ななばん" />
    <t text="マーカー8番" sync="^1B:[id8]:[mex]:0000:[id4]:0056:" notice="はちばん" />
    <!-- 頭上マーカ識別用トリガ end -->

    <!-- カウント対象者通知 begin -->
    <t text="カウント" sync="^1B:[id8]:[nex]:0000:[id4]:0041:" notice="" >
      <v-notice
        job-icon="true"
        duration="6" />
    </t>

    <t text="自分にカウント" sync="^1B:[id8]:[mex]:0000:[id4]:0041:" notice="自分にカウント。" >
      <v-notice
        job-icon="true"
        duration="6" />
    </t>
    <!-- カウント対象者通知 end -->

    <!-- マーカ置き換え -->
    @if (Model.Player.InJob("SCH")) {
      <t name="時間停止ジャスティスE" exec="http://localhost:1337/preset/ULT_ALEX_JUSTICE_E/load">
        <p-sync interval="120">
          <combatant name="ブルートジャスティス" X="23.62" Y="23.50" />
        </p-sync>
      </t>

      <t name="時間停止ジャスティスW" exec="http://localhost:1337/preset/ULT_ALEX_JUSTICE_W/load">
        <p-sync interval="120">
          <combatant name="ブルートジャスティス" X="23.38" Y="23.50" />
        </p-sync>
      </t>

      <t name="時空潜行プライムN" exec="http://localhost:1337/preset/ULT_ALEX_PRIME_N/load">
        <p-sync interval="120">
          <combatant name="アレキサンダー・プライム" X="23.50" Y="23.07" />
        </p-sync>
      </t>

      <t name="時空潜行プライムS" exec="http://localhost:1337/preset/ULT_ALEX_PRIME_S/load">
        <p-sync interval="120">
          <combatant name="アレキサンダー・プライム" X="23.50" Y="23.93" />
        </p-sync>
      </t>

      <t name="スパジャンジャスティスE" exec="http://localhost:1337/preset/ULT_ALEX_JUSTICE_JUMP_E/load">
        <p-sync interval="120">
          <combatant name="ブルートジャスティス" X="00.00" Y="00.00" />
        </p-sync>
      </t>

      <t name="スパジャンジャスティスW" exec="http://localhost:1337/preset/ULT_ALEX_JUSTICE_JUMP_W/load">
        <p-sync interval="120">
          <combatant name="ブルートジャスティス" X="00.00" Y="00.00" />
        </p-sync>
      </t>
    }
    <!-- マーカ置き換え end -->

    <a time="@(352 - origin)" sync="アレキサンダー・プライム:我はアレキサンダー……機械仕掛けの神なり……。 理想郷に到る道を導くため……我が審判を受けよ……。">
      <expressions>
        <set name="stop_time" value="true" />
      </expressions>
    </a>
    <a time="@(356 - origin)" text="時間停止（詠唱）" sync="アレキサンダー・プライムは「時間停止」の構え。" />
    <a time="@(365 - origin)" text="時間停止" sync="アレキサンダー・プライムの「時間停止」" />
    <a time="@(368 - origin)" text="神判（罰着弾）" sync="アレキサンダー・プライムの「誓約の神判」" />
    <a time="@(370 - origin)" text="ソード＋火炎放射1" sync="クルーズチェイサーの「アルファソード」" />
    <a time="@(371 - origin)" text="ソード＋火炎放射2" />
    <a time="@(372 - origin)" text="ソード＋火炎放射3" />
    <a time="@(386 - origin)" text="神罰の熱線" sync="アレキサンダー・プライムの「神罰の熱線」" notice-o="-3" notice="熱線！">
      <expressions>
        <set name="stop_time" value="false" />
      </expressions>
    </a>
    <a time="@(390 - origin)" text="聖なる炎1" sync="アレキサンダー・プライムの「聖なる炎」" notice="" />
    <a time="@(392 - origin)" text="聖なる炎2" notice="" />
    <a time="@(394 - origin)" text="聖なる炎3" />
    <a time="@(403 - origin)" text="時空潜行のマーチ" sync="アレキサンダー・プライムの「時空潜行のマーチ」" notice-o="-1" notice="時空潜行" />
    <a time="@(411 - origin)" name="DumpPos2">
      <dump target="Position" />
    </a>
    <a time="@(417 - origin)" text="審判の結晶" sync="アレキサンダー・プライムの「審判の結晶」" notice="" />
    <a time="@(423 - origin)" text="おうえん" sync="シャノアの「おうえん」" notice-o="-1" notice="まごころ。" />
    <a time="@(435 - origin)" text="火炎放射1" sync="ブルートジャスティスの「大火炎放射」" notice-o="-3" notice="ジャスティスえー" />
    <a time="@(437 - origin)" text="火炎放射2" />
    <a time="@(439 - origin)" text="火炎放射3" />
    <a time="@(446 - origin)" text="時空潜行" sync="アレキサンダー・プライムの「時空潜行」" />
    <a time="@(452 - origin)" text="結晶破裂" sync="審判の結晶の「結晶破裂」" />
    <a time="@(454 - origin)" text="神判（罰着弾）" sync="アレキサンダー・プライムの「誓約の神判」" notice="" />
    <a time="@(455 - origin)" text="十字の秘蹟" sync="アレキサンダー・プライムの「十字の秘蹟」" notice-o="-3" notice="次は左右に散開" />
    <a time="@(459 - origin)" text="スーパージャンプ" sync="ブルートジャスティスは「スーパージャンプ」の構え。" notice-o="-3" notice="次はスパジャン" />
    <a time="@(460 - origin)" text="ソード1" sync="クルーズチェイサーの「アルファソード」" />
    <a time="@(461 - origin)" text="ソード2" />
    <a time="@(462 - origin)" text="ソード3" />
    <a time="@(464 - origin)" text="スーパージャンプ着弾" />
    <a time="@(476 - origin)" text="神罰の熱線" sync="アレキサンダー・プライムの「神罰の熱線」" notice-o="-3" notice="熱線！" />
    <a time="@(481 - origin)" text="聖なる炎1" sync="アレキサンダー・プライムの「聖なる炎」" notice="" />
    <a time="@(483 - origin)" text="聖なる炎2" notice="" />
    <a time="@(485 - origin)" text="聖なる炎3" />
    <a time="@(494 - origin)" text="次元断絶のマーチ" sync="アレキサンダー・プライムの「次元断絶のマーチ」" notice="" />
    <a time="@(503 - origin)" text="リミッターカット" />
    <a time="@(506 - origin)" text="システムリンク" />
    <a time="@(506 - origin)" text="懺悔の間" />
    <a time="@(515 - origin)" text="チャクラム突進" />
    <a time="@(516 - origin)" text="アルファソード1" />
    <a time="@(517 - origin)" text="スーパージャンプ着弾" />
    <a time="@(519 - origin)" text="アポカリプティクレイ" />
    <a time="@(520 - origin)" text="アルファソード2" />
    <a time="@(520 - origin)" text="罪の意識1" />
    <a time="@(522 - origin)" text="Sブラスティ・チャージ1" />
    <a time="@(523 - origin)" text="十字の秘蹟" />
    <a time="@(525 - origin)" text="罪の意識2" />
    <a time="@(526 - origin)" text="Sブラスティ・チャージ2" />
    <a time="@(532 - origin)" text="ミサイル全弾発射" />
    <a time="@(535 - origin)" text="浄化の熱線" sync="アレキサンダー・プライムの「浄化の熱線」" />
    <a time="@(540 - origin)" text="カウント" />
    <a time="@(548 - origin)" text="メガホーリー1" sync="アレキサンダー・プライムの「メガホーリー」" notice="" />
    <a time="@(555 - origin)" text="メガホーリー2" sync="アレキサンダー・プライムの「メガホーリー」" />
    <a time="@(565 - origin)" text="アレキサンダー召喚" sync="アレキサンダー・プライムの「アレキサンダー召喚」" />
    <a time="@(572 - origin)" text="ジャスティスストーム" sync="ブルートジャスティスの「ジャスティスストーム」" />
    <a time="@(576 - origin)" text="ショックウェーブ1" notice="" />
    <a time="@(579 - origin)" text="ショックウェーブ2" notice="" />
    <a time="@(582 - origin)" text="ショックウェーブ3" notice="" />
    <a time="@(585 - origin)" text="ショックウェーブ4" notice="" />
    <a time="@(588 - origin)" text="ショックウェーブ5" notice="" />
    <a time="@(591 - origin)" text="ショックウェーブ6" notice="" />
    <a time="@(594 - origin)" text="ショックウェーブ7" notice="" />
    <a time="@(597 - origin)" text="ショックウェーブ8" notice="" />
    <a time="@(600 - origin)" text="ショックウェーブ9" notice="" />
    <a time="@(603 - origin)" text="ショックウェーブ10" notice="" />
    <a time="@(606 - origin)" text="ショックウェーブ11" notice="" />
    <a time="@(609 - origin)" text="ショックウェーブ12" notice="" />
    <a time="@(612 - origin)" text="ショックウェーブ13" notice="" />
    <a time="@(615 - origin)" text="ショックウェーブ14" notice="" />
    <a time="@(647 - origin)" text="聖なる審判" />

    <a time="@(662 - origin)" text="TO PHASE5" sync="16:[id8]:アレキサンダー:487A:聖なる審判:[id8]:[pc]:" sync-s="-30" sync-count="1" goto="PHASE5 THE PERFECT" />
    <a time="@(999 - origin)" text="DUMMY" />
  </s>
</timeline>
